<!DOCTYPE html>
<html id="html-tag" lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="Ei5SI9a6NsN7X-SH1VvwctclrSq1z93auvdXQqjgBs4" />
    <title>جوجوتسو كايسن الموسم 3 مترجم | Jujutsu Kaisen Season 3</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #050505; color: white; scroll-behavior: smooth; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .hero-gradient { background: linear-gradient(to top, #050505 0%, rgba(5,5,5,0.8) 50%, rgba(5,5,5,0.3) 100%); }
        iframe { border: none; border-radius: 1.5rem; background: #000; box-shadow: 0 20px 50px rgba(147, 51, 234, 0.2); }
        .episode-card:hover img { transform: scale(1.05); }
        .timer-circle { width: 100px; height: 100px; border: 4px solid #9333ea; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; font-weight: 900; margin: 0 auto 1.5rem; color: #9333ea; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #9333ea; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ name, size = 20, className = "" }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        // العودة للصور القديمة الأصلية
        const HERO_IMAGE = "https://image2url.com/r2/default/images/1770910443146-4868a37a-4edc-43c7-81fb-9c1ba28a5aee.webp";
        const THUMB_IMAGE = "https://image2url.com/r2/default/images/1770912507115-3de26040-4759-489d-adfe-9046c6aaa78c.jpg";
        
        const SEASON_DESC = "بعد المأساة التي حلت بمدينة شيبويا، يغرق العالم في فوضى عارمة. الموسم الثالث من جوجوتسو كايسن يقتبس 'آرك لعبة الإبادة' (Culling Game)، وهو طقس سحري مرعب أطلقه كينجاكو لإجبار السحرة على إبادة بعضهم البعض. تبدأ الأحداث بعودة يوتا أوكوتسو لتنفيذ حكم الإعدام على يوجي إيتادوري. صراعات ملحمية ومصير البشرية على المحك.";

        const EPISODES_DATA = [
          { id: 1, title_ar: "تنفيذ الإعدام", drive: "https://drive.google.com/file/d/1y_YKD0vt4e9Lhrzoa89NKwLRyW5uYqxE/preview", mega: "https://mega.nz/file/fhxgUR5Q#14GnrhnkBZFJ7x5lxsb6EcYcJwawXUGeXDaOQL8cPqU" },
          { id: 2, title_ar: "مرة أخرى", drive: "https://drive.google.com/file/d/1dgMLJ917ey0sy-UsZUJHruYGJUz6dLyr/preview", mega: "https://mega.nz/file/Ttw3wA5C#IhLCl2nyFtufZKjhtNKqOEwCwwxtxvl8pZLw9-_ftwM" },
          { id: 3, title_ar: "حول لعبة الإبادة", drive: "https://drive.google.com/file/d/1bVGqzkRzxVBlpUvmcD5dYOVNr7fhwW2-/preview", mega: "https://mega.nz/file/O0RhBLhY#D5hfIdsrhk2A56Z0fRLXDgeZroWIM4IPE-OFXYZ36uY" },
          { id: 4, title_ar: "التحضير المثالي", drive: "https://drive.google.com/file/d/1Ia3ThXLuJHZF8Qy-oMy97UUwLDNRnFus/preview", mega: "https://mega.nz/file/LhhRBKDS#J31iUTgKNsRZq3XAKQl8-7m3opVgi6SRv7NDI8ZD6PA" },
          { id: 5, title_ar: "شغف", drive: "https://drive.google.com/file/d/1wjo5p0qDEuSwZAeY7bp2vC8aBM-KXQrO/preview", mega: "https://mega.nz/file/21wS3AjL#DX6-6wCWqzVOzxrVmrq-lmUHDiFkqldxJs_3036cbTE" },
          { id: 6, title_ar: "تِرس", drive: "https://drive.google.com/file/d/1XtjwSRk6dBQs57ogNkRXWdotH2gAsFPf/preview", mega: "https://mega.nz/file/LlxHRBJJ#jVupxxierMzHMbqtwo3GnFfe3T06gCpkk_yR7YvTW1M" },
          { id: 7, title_ar: "بداية لعبة الإبادة", drive: "https://drive.google.com/file/d/15lHeesfKgKkL4kTvzj23iPRxMS0T4-B3/preview", mega: "https://mega.nz/file/n4B2SDiL#0hiS79SyjjO8ZZeGSFw-EncUNyPJWF151ozU6sRvnd8" }
        ];

        function App() {
          const [view, setView] = useState('home');
          const [activeEp, setActiveEp] = useState(null);
          const [server, setServer] = useState('drive');
          const [timer, setTimer] = useState(10);
          const [isReady, setIsReady] = useState(false);

          useEffect(() => {
            let interval;
            if (view === 'download' && timer > 0) {
              interval = setInterval(() => setTimer(prev => prev - 1), 1000);
            } else if (timer === 0) {
              setIsReady(true);
            }
            return () => clearInterval(interval);
          }, [view, timer]);

          const Nav = () => (
            <nav className="fixed top-0 w-full z-50 glass border-b border-white/5 px-6 py-4 flex justify-between items-center">
              <div className="flex items-center gap-3 cursor-pointer" onClick={() => setView('home')}>
                <div className="w-10 h-10 bg-purple-600 rounded-xl flex items-center justify-center font-black text-xl shadow-lg">J</div>
                <span className="font-black text-xl tracking-tighter uppercase">JJK Season 3</span>
              </div>
            </nav>
          );

          if (view === 'home') return (
            <div className="rtl">
              <Nav />
              <div className="relative min-h-[85vh] flex items-center pt-20 px-6">
                <img src={HERO_IMAGE} className="absolute inset-0 w-full h-full object-cover opacity-30" />
                <div className="absolute inset-0 hero-gradient" />
                <div className="container mx-auto relative z-10 text-center md:text-right">
                  <h1 className="text-5xl md:text-8xl font-black mb-6 uppercase">Jujutsu Kaisen <span className="text-purple-500">S3</span></h1>
                  <p className="text-gray-300 text-xl max-w-3xl mb-8 leading-relaxed">{SEASON_DESC}</p>
                  <button onClick={() => document.getElementById('grid').scrollIntoView()} className="bg-purple-600 hover:bg-purple-700 px-12 py-5 rounded-full font-black text-xl transition-all shadow-xl shadow-purple-900/40">شاهد الحلقات</button>
                </div>
              </div>

              <section id="grid" className="container mx-auto px-6 py-20">
                <h2 className="text-3xl font-black mb-10 border-r-4 border-purple-600 pr-4">قائمة الحلقات</h2>
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                  {Array.from({ length: 26 }, (_, i) => {
                    const ep = EPISODES_DATA.find(e => e.id === i + 1);
                    return (
                      <div key={i} onClick={() => ep && (setActiveEp(ep), setView('watch'))} className={`glass p-5 rounded-[2.5rem] transition-all group episode-card ${ep ? 'cursor-pointer hover:border-purple-500/50' : 'opacity-40 grayscale'}`}>
                        <div className="aspect-video rounded-3xl overflow-hidden mb-4 relative">
                          <img src={THUMB_IMAGE} className="w-full h-full object-cover transition-transform" />
                          {ep && <div className="absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-all"><Icon name="play" size={40} /></div>}
                        </div>
                        <h3 className="font-black text-lg">الحلقة {i + 1} {ep ? `: ${ep.title_ar}` : '(قريباً)'}</h3>
                      </div>
                    );
                  })}
                </div>
              </section>
            </div>
          );

          if (view === 'watch') return (
            <div className="pt-24 px-6 container mx-auto rtl">
              <Nav />
              <button onClick={() => setView('home')} className="flex items-center gap-2 text-gray-500 mb-6 font-black hover:text-purple-500">
                <Icon name="arrow-right" /> العودة للرئيسية
              </button>
              <div className="max-w-5xl mx-auto">
                <div className="aspect-video w-full mb-6">
                  <iframe src={server === 'drive' ? activeEp.drive : activeEp.mega.replace("mega.nz/file/", "mega.nz/embed/")} className="w-full h-full" allowFullScreen />
                </div>
                <div className="flex flex-wrap gap-3 mb-10 justify-center">
                  <button onClick={() => setServer('drive')} className={`px-6 py-3 rounded-2xl font-bold ${server === 'drive' ? 'bg-purple-600' : 'bg-white/5 border border-white/10'}`}>سيرفر Drive</button>
                  <button onClick={() => setServer('mega')} className={`px-6 py-3 rounded-2xl font-bold ${server === 'mega' ? 'bg-purple-600' : 'bg-white/5 border border-white/10'}`}>سيرفر Mega</button>
                  <button onClick={() => {setTimer(10); setIsReady(false); setView('download');}} className="bg-green-600 hover:bg-green-700 px-8 py-3 rounded-2xl font-bold flex items-center gap-2 transition-all">
                    <Icon name="download" size={18} /> تحميل الحلقة
                  </button>
                </div>
                <div className="glass p-8 rounded-[2.5rem] mb-20 text-center md:text-right">
                  <h1 className="text-3xl font-black mb-4">جوجوتسو كايسن الموسم 3 الحلقة {activeEp.id}: {activeEp.title_ar}</h1>
                  <p className="text-gray-300 leading-relaxed text-lg">{SEASON_DESC}</p>
                </div>
              </div>
            </div>
          );

          if (view === 'download') return (
            <div className="pt-32 px-6 container mx-auto text-center rtl">
              <Nav />
              <div className="max-w-2xl mx-auto glass p-10 rounded-[3rem]">
                <img src={THUMB_IMAGE} className="w-32 h-32 rounded-3xl mx-auto mb-6 object-cover border-2 border-purple-500" />
                <h2 className="text-2xl font-black mb-2">تجهيز روابط التحميل</h2>
                <p className="text-gray-400 mb-8 font-bold text-lg">الحلقة {activeEp.id}: {activeEp.title_ar}</p>
                
                {!isReady ? (
                  <div>
                    <div className="timer-circle">{timer}</div>
                    <p className="text-purple-400 font-bold animate-pulse">جاري التحقق من الملفات...</p>
                  </div>
                ) : (
                  <div className="space-y-4 animate-in zoom-in duration-500">
                    <h3 className="text-green-500 font-black text-xl mb-6">الروابط جاهزة الآن!</h3>
                    <div className="flex flex-col gap-4">
                      <a href={activeEp.drive.replace("/preview", "/view")} target="_blank" className="bg-blue-600 hover:bg-blue-700 py-4 rounded-2xl font-black flex items-center justify-center gap-2 transition-all">
                        <Icon name="external-link" /> تحميل من Google Drive
                      </a>
                      <a href={activeEp.mega} target="_blank" className="bg-red-600 hover:bg-red-700 py-4 rounded-2xl font-black flex items-center justify-center gap-2 transition-all">
                        <Icon name="download" /> تحميل من Mega.nz
                      </a>
                      <button onClick={() => setView('watch')} className="text-gray-500 mt-4 underline">العودة للمشاهدة</button>
                    </div>
                  </div>
                )}
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>